/**
 * @fileoverview Utilitaires partag√©s entre les modules d'extension-detector et tracking
 * @module quizaccess_cheatdetect/shared/utils
 * @copyright 2025 CBlue SRL <support@cblue.be>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since 1.0.0
 */
define("quizaccess_cheatdetect/shared/utils",[],(function(){var containsKeywords=function(node,keywords){if(!node||!keywords||0===keywords.length)return!1;if(node.textContent&&keywords.some((function(keyword){return node.textContent.toLowerCase().includes(keyword.toLowerCase())})))return!0;if(node.childNodes)for(var i=0;i<node.childNodes.length;i++){var childNode=node.childNodes[i];if(childNode.nodeType===Node.ELEMENT_NODE&&containsKeywords(childNode,keywords))return!0}return!1};return{generateUniqueId:function(){var validChars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",length=Math.floor(9*Math.random())+8,result="",firstCharOptions="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_";result+=firstCharOptions[Math.floor(Math.random()*firstCharOptions.length)];for(var i=1;i<length;i++)result+=validChars[Math.floor(Math.random()*validChars.length)];return result},generateTimestamp:function(){return{unix:Date.now(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}},fetchWithTimeout:function(url,timeout){return timeout=timeout||5e3,new Promise((function(resolve){var controller=new AbortController,timeoutId=setTimeout((function(){controller.abort()}),timeout);fetch(url,{signal:controller.signal}).then((function(response){clearTimeout(timeoutId),resolve({success:response.ok,status:response.status,response:response.ok?response:null})})).catch((function(error){clearTimeout(timeoutId),resolve({success:!1,error:"AbortError"===error.name?"Timeout":error.message})}))}))},debounce:function(func,delay){var timeoutId;return function(){var context=this,args=arguments;clearTimeout(timeoutId),timeoutId=setTimeout((function(){func.apply(context,args)}),delay)}},extractExtensionId:function(content){var match=content.match(/(chrome-extension:\/\/|moz-extension:\/\/)([a-z0-9-]+)/);return match?match[0]:null},containsKeywords:containsKeywords,matchesPatterns:function(element,patterns){if(!element||!patterns)return!1;var elementId=(element.id||"").toLowerCase(),className=(element.className||"").toLowerCase();return patterns.some((function(pattern){var lowerPattern=pattern.toLowerCase();return elementId.includes(lowerPattern)||className.includes(lowerPattern)}))},containsPatterns:function(content,patterns){return!(!content||!patterns)&&patterns.some((function(pattern){return content.toLowerCase().includes(pattern.toLowerCase())}))},removeElement:function(element){if(!element)return!1;try{return element.parentNode?(element.parentNode.removeChild(element),!0):(element.remove(),!0)}catch(error){return!1}}}}));

//# sourceMappingURL=utils.min.js.map
/**
 * @fileoverview AMD entry point for extension detector with secure exports
 * @module quizaccess_cheatdetect/extension-detector/index
 * @copyright 2025 CBlue SRL <support@cblue.be>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since 1.0.0
 */
define("quizaccess_cheatdetect/extension-detector/index",["quizaccess_cheatdetect/extension-detector/detector"],(function(ExtensionDetector){let detectorInstance=null;function startDetector(){try{return detectorInstance?(console.log("ðŸ§© Extension Detector: Instance already created"),detectorInstance):(detectorInstance=new ExtensionDetector.ExtensionDetector,detectorInstance.start(),console.log("ðŸ§© Extension Detector: Started successfully"),detectorInstance)}catch(error){return console.error("ðŸ§© Extension Detector: Startup error",error),null}}return{init:function(backendParams){try{if("undefined"==typeof MutationObserver)return null;if(window._trackingInitialized)return startDetector();{const checkTracking=setInterval((()=>{window._trackingInitialized&&(clearInterval(checkTracking),startDetector())}),100);return setTimeout((()=>{clearInterval(checkTracking),detectorInstance||(console.warn("ðŸ§© Extension Detector: Timeout, forced start without tracking"),startDetector())}),5e3),null}}catch(error){return console.error("ðŸ§© Extension Detector: Initialization error",error),null}},getMetrics:function(){if(!detectorInstance)return JSON.stringify({timestamp:(new Date).toISOString(),extensionDetection:{}});try{return detectorInstance.exportMetricsAsJSON()}catch(error){return JSON.stringify({timestamp:(new Date).toISOString(),extensionDetection:{},error:error.message})}}}}));

//# sourceMappingURL=index.min.js.map